<!-- FIXME: which doctype is best ? -->
<html>
<head>
    <title>Swisstopo Mobile OpenLayers</title>

    <!-- IPhone Meta Tags -->
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        #map {
            width: 100%;
            height: 100%;
        }
    </style>

    <script type="text/javascript"
            src="http://c2c-rd-geospatial.demo-camptocamp.com/lib/openlayers/OpenLayers.mobile.min.js"></script>
    <script type="text/javascript"
            src="http://c2c-rd-geospatial.demo-camptocamp.com/lib/openlayers/lib/OpenLayers/Control/TouchNavigation.js"></script>
    <script type="text/javascript"
            src="http://c2c-rd-geospatial.demo-camptocamp.com/lib/openlayers/lib/OpenLayers/Handler/Click.js"></script>
    <script type="text/javascript">
        var map;
        function init() {

            map = new OpenLayers.Map({
                div: "map",
                maxExtent: new OpenLayers.Bounds(420000, 30000, 900000, 350000),
                projection: new OpenLayers.Projection("EPSG:21781"),
                units: "m",
                resolutions: [650.0, 500.0, 250.0, 100.0, 50.0, 20.0, 10.0, 5.0 ,2.5, 2.0, 1.0, 0.5],
                controls: [
                    new OpenLayers.Control.TouchNavigation({
                        dragPanOptions: {
                            kineticDragging: true,
                            autoActivate: true,
                            interval: 0 // non-zero kills performance on some mobile phones
                        }
                    })
                ]
            });
            var layer = new OpenLayers.Layer.TileCache("ch.swisstopo.pixelkarte-farbe",
                    ['http://tile5.geo.admin.ch/geoadmin/',
                        'http://tile6.geo.admin.ch/geoadmin/',
                        'http://tile7.geo.admin.ch/geoadmin/',
                        'http://tile8.geo.admin.ch/geoadmin/',
                        'http://tile9.geo.admin.ch/geoadmin/'],
                    "ch.swisstopo.pixelkarte-farbe",
            {
                projection: new OpenLayers.Projection('EPSG:21781'),
                transitionEffect: 'resize',
                units: 'm',
                format: "image/jpeg",
                serverResolutions: [4000,3750,3500,3250,3000,2750,2500,2250,2000,1750,1500,
                    1250,1000,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,0.5],
                tileLoadingDelay: 125, // enable delayed tile loading for better performance,
                buffer: 0
            }
                    );
            map.addLayer(layer);
            map.setCenter(new OpenLayers.LonLat(600000, 200000), 5);
        }
    </script>
</head>
<body onload='init();'>
<div id="map"></div>
</body>
</html>
