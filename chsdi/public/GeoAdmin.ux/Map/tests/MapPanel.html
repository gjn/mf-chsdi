<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript" src="../../../lib/ext/Ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="../../../lib/ext/Ext/ext-all-debug.js"></script>
    <script type="text/javascript" src="../../../lib/openlayers/lib/OpenLayers.js"></script>
    <script type="text/javascript" src="../../../lib/geoext/lib/GeoExt.js"></script>
    <script type="text/javascript" src="../../../GeoAdmin.ux/GeoAdmin.js"></script>
    <script type="text/javascript" src="../../Layers/lib/VoidLayer.js"></script>
    <script type="text/javascript" src="../../Layers/lib/Layers.js"></script>
    <script type="text/javascript" src="../lib/OverviewMap.js"></script>
    <script type="text/javascript" src="../lib/Map.js"></script>
    <script type="text/javascript" src="../lib/MapPanel.js"></script>
    <script type="text/javascript">
        function test_constructor(t) {
            t.plan(3);
            var map= new GeoAdmin.Map()
            var mapPanel = new GeoAdmin.MapPanel({map: map});
            t.ok(mapPanel.map.aerial, "aerial map is here");
            t.ok(mapPanel.map.aerial.getVisibility(), "aerial map is visible");
            t.eq(mapPanel.map.getCenter(), null, "map isn't centered");
            mapPanel.destroy();
        }
        function test_destroy(t) {
            t.plan(1);
            var map= new GeoAdmin.Map()
            var mapPanel = new GeoAdmin.MapPanel({map: map});
            mapPanel.destroy();
            t.eq(mapPanel.map, null, "mapPanel.map is destroyed");
            // t.eq(mapPanel.layers, null, "mapPanel.layers is destroyed");
        }



    </script>
</head>
<body>
<div style="width: 100px; height: 600px" id="map"></div>
</body>
</html>
